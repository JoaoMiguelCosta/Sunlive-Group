/* ===========================================
   CTAButton — “Contactar”
   Blink controlado por hook (só background)
   =========================================== */

.button {
  --gold: var(--sl-gold-400, #C78615);
  --gold-2: var(--sl-gold-500, #A16207);
  --accent: var(--sl-accent-500, #2EA7E0);

  /* tamanhos base; refinados por breakpoints */
  --pill-fs: .98rem;
  --pill-pad-y: .48rem;
  --pill-pad-x: .80rem;
  --pill-min: 40px;
  --pill-gap: .60rem;

  /* fundos OFF/ON */
  --cta-bg-off:
    linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, 0)),
    radial-gradient(120% 140% at 50% 0%, rgba(255, 226, 167, .10), rgba(255, 255, 255, 0) 60%);
  --cta-bg-on: rgba(255, 162, 0, 0.85);

  position: relative; /* para o ::after */
  display: inline-flex;
  align-items: center;
  gap: var(--pill-gap);

  min-height: var(--pill-min);
  padding: var(--pill-pad-y) var(--pill-pad-x);
  border-radius: 999px;
  overflow: hidden; /* recorte do overlay */
  text-decoration: none;

  color: #fff;
  font-weight: 700;
  font-size: var(--pill-fs);
  letter-spacing: .02em;
  line-height: 1;

  border: 2px solid rgba(255, 162, 0, 0.85);
  background: var(--cta-bg-off);
  box-shadow:
    inset 0 0 0 1px rgba(255, 255, 255, .06),
    0 8px 20px rgba(0, 0, 0, .35);

  transition:
    transform .16s ease,
    box-shadow .16s ease,
    border-color .16s ease,
    color .16s ease;
}

/* Conteúdo acima do overlay */
.button > * {
  position: relative;
  z-index: 2;
}

/* Overlay dourado — só o fundo pisca */
.button::after {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--cta-bg-on);
  opacity: 0;                  /* OFF por omissão */
  pointer-events: none;
  z-index: 1;                  /* abaixo do texto, acima do bg */
  border-radius: inherit;
  transition: none;            /* blink seco */
}

/* Hook: data-on controla o blink */
.button--blink[data-on="true"]::after { opacity: 1; }
.button--blink[data-on="false"]::after { opacity: 0; }

/* Hover = ON contínuo (o hook pausa via bind) */
.button:hover,
.button:focus-visible {
  transform: translateY(-1px);
  border-color: color-mix(in oklab, var(--gold), var(--accent) 22%);
  outline: none;
}
.button:hover::after,
.button:focus-visible::after { opacity: 1; }

.button:active { transform: translateY(0); }

.icon  { inline-size: 1.05em; block-size: 1.05em; }
.label { white-space: nowrap; }

/* ===== Acessibilidade: respeitar prefers-reduced-motion ===== */
@media (prefers-reduced-motion: reduce) {
  .button::after { transition: none; }
  .button--blink::after { opacity: 0 !important; } /* desliga blink */
}

/* ===== Modo compacto (auto/true/false) ===== */
@media (max-width: 720px) {
  .button[data-compact="auto"] {
    --pill-fs: .96rem;
    --pill-pad-y: .46rem;
    --pill-pad-x: .78rem;
    --pill-min: 38px;
  }
}
.button[data-compact="true"] {
  --pill-fs: .94rem;
  --pill-pad-y: .44rem;
  --pill-pad-x: .72rem;
  --pill-min: 36px;
}

/* ===== Breakpoints — iguais aos pills ===== */
@media (min-width: 1368px) {
  .button {
    --pill-fs: 1.06rem;
    --pill-pad-y: .62rem;
    --pill-pad-x: 1.15rem;
    --pill-min: 46px;
  }
}
@media (min-width: 1178px) and (max-width: 1367px) {
  .button {
    --pill-fs: 1.02rem;
    --pill-pad-y: .56rem;
    --pill-pad-x: 1rem;
    --pill-min: 44px;
  }
}
@media (min-width: 910px) and (max-width: 1177px) {
  .button {
    --pill-fs: .98rem;
    --pill-pad-y: .50rem;
    --pill-pad-x: .9rem;
    --pill-min: 42px;
  }
}
@media (min-width: 561px) and (max-width: 909px) {
  .button {
    --pill-fs: .96rem;
    --pill-pad-y: .48rem;
    --pill-pad-x: .85rem;
    --pill-min: 40px;
  }
}
@media (max-width: 560px) {
  .button {
    --pill-fs: .94rem;
    --pill-pad-y: .45rem;
    --pill-pad-x: .80rem;
    --pill-min: 36px;
  }
}

/* === CTA “Contactar” — mantém proporção com os pills === */
.button {
    /* igual à nav: fecha de .60rem → .42rem conforme a viewport desce até 909px */
    --pill-gap: clamp(.42rem, 0.8vw, .60rem);
}