/* ================================
   PrimaryNav.module.css — atualizado
   ================================ */

/* --- Estrutura --- */
.nav {
    display: contents;
}

.navList {
    display: flex;
    flex-wrap: wrap;
    gap: .9rem;
    list-style: none;
    margin: 0;
    padding: 0;
    overflow: visible;
    /* garante dropdown fora da lista */
}

.navItem {
    position: relative;
    flex: 0 0 auto;
    z-index: 2;
    /* acima da régua (z:1) */
}

/* Eleva MUITO o item quando aberto para sobrepor vizinhos */
.navItem[data-open="true"] {
    z-index: 10010;
}

/* --- Pills: aro dourado + leve brilho (base) --- */
.navLink {
    --gold: var(--sl-gold-400, #C78615);
    --gold-2: var(--sl-gold-500, #A16207);
    --accent: var(--sl-accent-500, #2EA7E0);
    --pill-fs: .98rem;
    --pill-pad-y: .48rem;
    --pill-pad-x: .80rem;
    --pill-min: 40px;
    --pill-gap: .60rem;

    display: inline-flex;
    align-items: center;
    gap: var(--pill-gap);

    min-height: var(--pill-min);
    padding: var(--pill-pad-y) var(--pill-pad-x);
    border-radius: 999px;
    text-decoration: none;

    color: #fff;
    font-weight: 700;
    font-size: var(--pill-fs);
    letter-spacing: .02em;
    line-height: 1;

    border: 2px solid rgba(255, 162, 0, 0.573);
    background:
        linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, 0)),
        radial-gradient(120% 140% at 50% 0%, rgba(255, 226, 167, .10), rgba(255, 255, 255, 0) 60%);
    box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, .06),
        0 8px 20px rgba(0, 0, 0, .35);

    transition:
        transform .16s ease,
        box-shadow .16s ease,
        border-color .16s ease,
        background-color .16s ease,
        color .16s ease;
}

.navLink:hover,
.navLink:focus-visible {
    transform: translateY(-1px);
    border-color: color-mix(in oklab, var(--gold), var(--accent) 90%);
    box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, .08),
        0 10px 28px rgba(0, 0, 0, .44);
    outline: none;
    background: color-mix(in oklab, var(--sl-accent-500, #2EA7E0) 22%, black);
}

.navLink:active {
    transform: translateY(0);
}

/* Chevron */
.chev {
    width: 12px;
    height: 6px;
    display: inline-block;
}

.chev svg {
    width: 100%;
    height: 100%;
}

.chev path {
    stroke: rgba(255, 162, 0, 0.85);
    stroke-width: 1.8;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* --- Submenu (responsivo / elástico) --- */
.navItem[data-has-submenu] .submenu {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;

    /* Desktop/tablet: pelo menos 220px e nunca maior que a viewport */
    min-width: max(220px, calc(100% + 12px));
    /* >= pill + 12px */
    width: max-content;
    /* cresce só o necessário */
    max-width: min(92vw, 520px);
    /* não sai do ecrã */

    /* Altura segura + scroll interno */
    max-height: min(58vh, 440px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;

    padding: clamp(6px, 1.4vw, 10px);
    margin: 0;
    list-style: none;
    border-radius: 12px;

    /* === ALINHADO AO MENU DE IDIOMAS === */
    border: 1px solid rgba(255, 255, 255, .06);
    background: rgba(15, 20, 30, .92);
    backdrop-filter: blur(6px);
    box-shadow: 0 8px 26px rgba(0, 0, 0, .42);

    pointer-events: none;
    opacity: 0;
    transform: translateY(-4px);
    transition: opacity .18s ease, transform .18s ease;

    z-index: 10011;
    /* acima do item aberto e do resto do header */
}

/* ← só mostra quando o JS mete data-open="true" */
.navItem[data-open="true"] .submenu {
    pointer-events: auto;
    opacity: 1;
    transform: translateY(0);
}

/* seta roda só quando está aberto */
.navItem[data-open="true"] .chev {
    transform: rotate(180deg);
}

/* Itens do submenu: toque confortável */
.subLink {
    display: block;
    padding: clamp(.55rem, 1.8vw, .7rem) clamp(.7rem, 2vw, .95rem);
    border-radius: 10px;
    color: var(--sl-platinum-50, #e7e7e7);
    text-decoration: none;
    white-space: nowrap;
    font-size: clamp(.94rem, 1.6vw, .98rem);
    min-height: 44px;
    /* alvo mínimo recomendado */
}

/* === HOVER/FOCUS IGUAL AO “PT Português” === */
.subLink:hover,
.subLink:focus-visible {
    color: var(--sl-accent-500, #2EA7E0);
    background: rgba(255, 255, 255, .06);
    outline: none;
    /* sem blur no item — o blur fica no painel */
}

/* --- Micro-ajuste quando o header quebra para 2 linhas --- */
@media (max-width: 860px) {
    .navList {
        justify-content: center;
    }
}

/* --- Breakpoints de TAMANHO --- */
@media (min-width: 1368px) {
    .navList {
        gap: 1.1rem;
    }

    .navLink {
        --pill-fs: 1.06rem;
        --pill-pad-y: .62rem;
        --pill-pad-x: 1.15rem;
        --pill-min: 46px;
        --pill-gap: .60rem;
    }

    .chev {
        width: 13px;
        height: 6.5px;
    }
}

@media (min-width: 1178px) and (max-width: 1367px) {
    .navList {
        gap: 1rem;
    }

    .navLink {
        --pill-fs: 1.02rem;
        --pill-pad-y: .56rem;
        --pill-pad-x: 1rem;
        --pill-min: 44px;
        --pill-gap: .60rem;
    }

    .chev {
        width: 12.5px;
        height: 6.25px;
    }
}

/* >>> Desktop “médio”: agora só entre 1026–1177px */
@media (min-width: 1026px) and (max-width: 1177px) {
    .navList {
        gap: .85rem;
    }

    .navLink {
        --pill-fs: .98rem;
        --pill-pad-y: .50rem;
        --pill-pad-x: .9rem;
        --pill-min: 42px;
        --pill-gap: .56rem;
    }

    .chev {
        width: 12px;
        height: 6px;
    }
}

/* >>> Tablet/grande-phone: estendido até 1025px */
@media (min-width: 561px) and (max-width: 1025px) {
    .navList {
        gap: .7rem;
    }

    .navLink {
        --pill-fs: .96rem;
        --pill-pad-y: .48rem;
        --pill-pad-x: .85rem;
        --pill-min: 40px;
        --pill-gap: .52rem;
    }

    .chev {
        width: 11.5px;
        height: 5.75px;
    }
}

@media (max-width: 560px) {
    .navList {
        gap: .5rem;
    }

    .navLink {
        --pill-fs: .94rem;
        --pill-pad-y: .45rem;
        --pill-pad-x: .80rem;
        --pill-min: 36px;
        --pill-gap: .5rem;
    }

    .chev {
        width: 11px;
        height: 5.5px;
    }
}

/* --- Mobile: sem scroll horizontal; dropdown centrado sob o pill --- */
@media (max-width: 720px) {
    .navList {
        overflow: visible !important;
    }

    .navItem[data-has-submenu] .submenu {
        left: 50%;
        transform: translate(-70%, 0);
        width: clamp(240px, calc(100% + 12px), calc(100vw - 2 * var(--line-inset, 16px)));
        border-radius: 10px;
    }
}

/* === Layout “bom” (grid 2x2) — agora só a partir de 1026px === */
@media (min-width: 1026px) {
    .navList {
        display: grid;
        /* troca de flex → grid para controlar o arranjo */
        grid-template-columns: repeat(2, max-content);
        /* 2 colunas */
        grid-auto-rows: max-content;
        /* 2 linhas */
        column-gap: 1.25rem;
        /* espaço horiz. */
        row-gap: .9rem;
        /* espaço vert. */
        justify-content: center;
        /* centra pills */
        align-content: center;
    }

    .navItem {
        flex: initial;
    }

    /* reset do flex dos itens quando estamos em grid */
}

/* === Gap entre pills — contínuo (∈ [0.55rem, 1.15rem]) === */
.navList {
    gap: clamp(.55rem, 1vw, 1.15rem);
}

/* === Espaço entre texto e chevron dentro do pill (∈ [.42,.60]) === */
.navLink {
    --pill-gap: clamp(.42rem, 0.8vw, .60rem);
}

/* MOBILE LOCK — manter layout de ~381px para baixo */
@media (max-width: 560px) {
    .navList {
        /* igual ao bloco 561–1025 */
        justify-content: center;
        gap: .7rem;
        flex-wrap: wrap;
        overflow: visible !important;
    }

    .navLink {
        --pill-fs: .96rem;
        --pill-pad-y: .48rem;
        --pill-pad-x: .85rem;
        --pill-min: 40px;
        --pill-gap: .52rem;
    }

    .chev {
        width: 11.5px;
        height: 5.75px;
    }

    /* dropdown centrado, sem desvio extra */
    .navItem[data-has-submenu] .submenu {
        left: 50%;
        transform: translate(-50%, 0);
        /* antes tinhas -70% */
        width: clamp(240px, calc(100% + 12px), calc(100vw - 2 * var(--line-inset, 16px)));
    }
}