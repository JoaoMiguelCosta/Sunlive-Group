/* ===========================================
   CTAButton — base (outline) + variante HERO
   Blink controlado por hook (só background)
   =========================================== */

.button {
    --gold: var(--sl-gold-400, #C78615);
    --gold-2: var(--sl-gold-500, #A16207);
    --accent: var(--sl-accent-500, #2EA7E0);

    /* tamanhos base; refinados por breakpoints */
    --pill-fs: .98rem;
    --pill-pad-y: .48rem;
    --pill-pad-x: .80rem;
    --pill-min: 40px;
    --pill-gap: .60rem;

    /* fundos OFF/ON */
    --cta-bg-off:
        linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, 0)),
        radial-gradient(120% 140% at 50% 0%, rgba(255, 226, 167, .10), rgba(255, 255, 255, 0) 60%);
    --cta-bg-on: rgba(255, 162, 0, 0.85);

    position: relative;
    /* para ::before/::after */
    isolation: isolate;
    display: inline-flex;
    align-items: center;
    gap: var(--pill-gap);

    min-height: var(--pill-min);
    padding: var(--pill-pad-y) var(--pill-pad-x);
    border-radius: 999px;
    overflow: hidden;
    /* recorte do overlay */
    text-decoration: none;

    color: #fff;
    font-weight: 700;
    font-size: var(--pill-fs);
    letter-spacing: .02em;
    line-height: 1;

    border: 2px solid rgba(255, 162, 0, 0.85);
    background: var(--cta-bg-off);
    box-shadow:
        inset 0 0 0 1px rgba(255, 255, 255, .06),
        0 8px 20px rgba(0, 0, 0, .35);

    transition:
        transform .16s ease,
        box-shadow .16s ease,
        border-color .16s ease,
        color .16s ease;
}

/* Conteúdo acima do overlay */
.button>* {
    position: relative;
    z-index: 2;
}

/* Overlay dourado — só o fundo pisca */
.button::after {
    content: "";
    position: absolute;
    inset: 0;
    background: var(--cta-bg-on);
    opacity: 0;
    /* OFF por omissão */
    pointer-events: none;
    z-index: 1;
    /* abaixo do texto, acima do bg */
    border-radius: inherit;
    transition: none;
    /* blink seco */
}

/* Hook: data-on controla o blink */
.button--blink[data-on="true"]::after {
    opacity: 1;
}

.button--blink[data-on="false"]::after {
    opacity: 0;
}

/* Hover = ON contínuo (o hook pausa via bind) */
.button:hover,
.button:focus-visible {
    transform: translateY(-1px);
    border-color: color-mix(in oklab, var(--gold), var(--accent) 22%);
    outline: none;
}

.button:hover::after,
.button:focus-visible::after {
    opacity: 1;
}

.button:active {
    transform: translateY(0);
}

.icon {
    inline-size: 1.05em;
    block-size: 1.05em;
}

.label {
    white-space: nowrap;
}

/* ===== Acessibilidade ===== */
@media (prefers-reduced-motion: reduce) {
    .button::after {
        transition: none;
    }

    .button--blink::after {
        opacity: 0 !important;
    }

    /* desliga blink */
}

/* ===== Modo compacto (auto/true/false) ===== */
@media (max-width: 720px) {
    .button[data-compact="auto"] {
        --pill-fs: .96rem;
        --pill-pad-y: .46rem;
        --pill-pad-x: .78rem;
        --pill-min: 38px;
    }
}

.button[data-compact="true"] {
    --pill-fs: .94rem;
    --pill-pad-y: .44rem;
    --pill-pad-x: .72rem;
    --pill-min: 36px;
}

/* ===== Breakpoints — iguais aos pills ===== */
@media (min-width: 1368px) {
    .button {
        --pill-fs: 1.06rem;
        --pill-pad-y: .62rem;
        --pill-pad-x: 1.15rem;
        --pill-min: 46px;
    }
}

@media (min-width: 1178px) and (max-width: 1367px) {
    .button {
        --pill-fs: 1.02rem;
        --pill-pad-y: .56rem;
        --pill-pad-x: 1rem;
        --pill-min: 44px;
    }
}

@media (min-width: 910px) and (max-width: 1177px) {
    .button {
        --pill-fs: .98rem;
        --pill-pad-y: .50rem;
        --pill-pad-x: .9rem;
        --pill-min: 42px;
    }
}

@media (min-width: 561px) and (max-width: 909px) {
    .button {
        --pill-fs: .96rem;
        --pill-pad-y: .48rem;
        --pill-pad-x: .85rem;
        --pill-min: 40px;
    }
}

@media (max-width: 560px) {
    .button {
        --pill-fs: .94rem;
        --pill-pad-y: .45rem;
        --pill-pad-x: .80rem;
        --pill-min: 36px;
    }
}

/* === CTA “Contactar” — mantém proporção com os pills === */
.button {
    /* igual à nav: fecha de .60rem → .42rem conforme a viewport desce até 909px */
    --pill-gap: clamp(.42rem, 0.8vw, .60rem);
}

/* =======================================================
   VARIANTE HERO — máximo destaque p/ fundos “busy” Travel
   - Fill dourado contínuo
   - Halo pulsante (usa o hook blink para ritmo)
   - Backplate com blur para separar do fundo
   ======================================================= */
.button--hero {
--halo-color: rgba(255, 162, 0, .24);
    /* antes .26 */
    --halo-color-strong: rgba(255, 162, 0, .28);
    /* antes .30 */
    --halo-min: 6px;
    --halo-max: clamp(9px, 1.2vw, 18px);
    /* antes 10px,1.4vw,20px */
    --halo-hover: clamp(8px, 1vw, 16px);
    color: #fff;
    text-shadow: 0 1px 0 rgba(255, 255, 255, .35);
    border-color: var(--gold);
    background: linear-gradient(180deg, #ffb01f, #e18a02 58%, #c97802);
    box-shadow:
        0 0 0 2px var(--gold) inset,
        0 0 0 1px rgba(255, 255, 255, .12) inset,
        /* halo base ligeiro (nota: já maior que antes) */
        0 0 0 var(--halo-min) var(--halo-color),
        0 10px 26px rgba(0, 0, 0, .45);
    transform: translateZ(0);
}

/* Backplate para cortar o ruído do fundo */
.button--hero::before {
    content: "";
    position: absolute;
    inset: -10px;
    /* ligeiramente maior que o pill */
    border-radius: 999px;
    z-index: 0;
    /* abaixo do fill e do ::after */
    background:
        radial-gradient(120% 140% at 50% 10%,
            rgba(0, 0, 0, .55),
            rgba(0, 0, 0, 0) 65%);
    backdrop-filter: blur(6px) saturate(120%);
    pointer-events: none;
}

/* Sheen/reflexo diagonal breve no hover/focus */
.button--hero::after {
    /* reusa o mesmo pseudo (sobrepõe o blink visual) */
    background:
        linear-gradient(100deg,
            rgba(255, 255, 255, 0) 20%,
            rgba(255, 255, 255, .35) 48%,
            rgba(255, 255, 255, 0) 76%);
    transform: translateX(-140%) rotate(0.001deg);
    transition: transform .85s ease, opacity .2s ease;
    opacity: .25;
    /* baixo por omissão; blink ainda controla se precisa */
}

.button--hero:hover::after,
.button--hero:focus-visible::after {
    opacity: .35;
    transform: translateX(140%);
}

/* Pulso suave no HALO quando data-on="true" (usa ritmo do hook) */
.button--hero[data-on="true"] {
    animation: heroPulse 1.8s ease-in-out infinite;
}
@keyframes heroPulse {

    0%,
    100% {
        box-shadow:
            0 0 0 2px var(--gold) inset,
            0 0 0 1px rgba(255, 255, 255, .12) inset,
            0 0 0 var(--halo-min) var(--halo-color),
            0 12px 28px rgba(0, 0, 0, .46);
    }

    50% {
        /* pico do brilho — halo bem mais largo */
        box-shadow:
            0 0 0 2px var(--gold) inset,
            0 0 0 1px rgba(255, 255, 255, .12) inset,
            0 0 0 var(--halo-max) var(--halo-color-strong),
            0 14px 32px rgba(0, 0, 0, .5);
    }
}

/* Hover/focus: também expande o halo (sem precisar do blink) */
.button--hero:hover,
.button--hero:focus-visible {
    transform: translateY(-1px);
    box-shadow:
        0 0 0 2px var(--gold) inset,
        0 0 0 1px rgba(255, 255, 255, .16) inset,
        0 0 0 var(--halo-hover) var(--halo-color-strong),
        0 16px 34px rgba(0, 0, 0, .55);
}

/* Hover/focus: brilho + “lift” */
.button--hero:hover,
.button--hero:focus-visible {
    transform: translateY(-1px);
    box-shadow:
        0 0 0 2px var(--gold) inset,
        0 0 0 1px rgba(255, 255, 255, .16) inset,
        0 0 0 8px rgba(255, 162, 0, .30),
        0 16px 34px rgba(0, 0, 0, .55);
}

/* Active */
.button--hero:active {
    transform: translateY(0);
}

/* A11y: reduz animações na hero também */
@media (prefers-reduced-motion: reduce) {
    .button--hero {
        animation: none !important;
    }

    .button--hero::after {
        transition: none;
    }
}